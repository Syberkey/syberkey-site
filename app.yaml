runtime: python39

handlers:
  # Serve the root index.html for the home page
  - url: /
    static_files: public/index.html
    upload: public/index.html

  # Serve static assets (images, CSS, JS, etc.)
  - url: /images
    static_dir: public/images

  - url: /css
    static_dir: public/css

  - url: /js
    static_dir: public/js

  # Serve directory URLs (like /posts/post-1/)
  - url: /(.*)/$
    static_files: public/\1/index.html
    upload: public/.*/index.html

  # Serve clean URLs without .html (like /posts/post-1)
  - url: /(.*)
    static_files: public/\1.html
    upload: public/.*.html

  # Fallback handler for any unmatched URL to serve the root index.html
  # This will catch all unmatched routes (useful for Single Page Apps or general routing)
  - url: /.*
    static_files: public/index.html
    upload: public/index.html
    application_readable: true
